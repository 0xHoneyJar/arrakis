# =============================================================================
# SIETCH UNIFIED - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# SERVER
# -----------------------------------------------------------------------------
PORT=3001
NODE_ENV=development
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
APP_URL=http://localhost:3001

# -----------------------------------------------------------------------------
# DATA RESIDENCY & GDPR
# -----------------------------------------------------------------------------
# CRITICAL: Select where member data is stored for GDPR compliance
# Options: us, eu, asia
# - us: us-central1 (Americas) - No GDPR restrictions
# - eu: europe-west1 (Belgium) - GDPR jurisdiction, data stays in EU
# - asia: asia-southeast1 (Singapore) - APAC region
DATA_REGION=eu

# Enable GDPR compliance features
GDPR_ENABLED=true

# Data Protection Officer contact (required for EU)
DPO_EMAIL=dpo@your-company.com

# Data retention periods (in days)
RETENTION_ACTIVITY_LOGS=30
RETENTION_VERIFICATION_SESSIONS=7
RETENTION_CONVICTION_HISTORY=90
RETENTION_AUDIT_LOGS=365

# -----------------------------------------------------------------------------
# DATABASE
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://sietch:sietch_password@localhost:5432/sietch_unified?schema=public

# -----------------------------------------------------------------------------
# REDIS
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379

# -----------------------------------------------------------------------------
# COLLAB.LAND ACCOUNTKIT
# Get your API key from: https://dev-portal-qa.collab.land
# -----------------------------------------------------------------------------
COLLABLAND_API_KEY=your_collabland_api_key
COLLABLAND_API_URL=https://api.collab.land

# -----------------------------------------------------------------------------
# DUNE ANALYTICS
# Get your API key from: https://dune.com/settings/api
# -----------------------------------------------------------------------------
DUNE_API_KEY=your_dune_api_key

# Dune Query IDs (replace with your actual query IDs)
DUNE_BGT_HOLDERS_QUERY_ID=3849201
DUNE_BGT_REDEEMERS_QUERY_ID=3849202
DUNE_GOVERNANCE_QUERY_ID=3849203

# -----------------------------------------------------------------------------
# BERACHAIN RPC
# -----------------------------------------------------------------------------
BERACHAIN_RPC_URL=https://rpc.berachain.com

# Contract addresses
BGT_CONTRACT_ADDRESS=0x...
REWARD_VAULT_ADDRESS=0x...

# -----------------------------------------------------------------------------
# DISCORD
# Create a bot at: https://discord.com/developers/applications
# -----------------------------------------------------------------------------
DISCORD_BOT_TOKEN=your_discord_bot_token
DISCORD_CLIENT_ID=your_discord_client_id
DISCORD_CLIENT_SECRET=your_discord_client_secret
DISCORD_GUILD_ID=your_discord_server_id

# Discord Role IDs (get from your server)
DISCORD_NAIB_ROLE_ID=
DISCORD_FEDAYKIN_ROLE_ID=
DISCORD_OG_ROLE_ID=
DISCORD_DIAMOND_HANDS_ROLE_ID=

# -----------------------------------------------------------------------------
# TELEGRAM
# Create a bot via: https://t.me/BotFather
# -----------------------------------------------------------------------------
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_BOT_USERNAME=your_bot_username

# Telegram Mini App URL (your deployed mini app)
TELEGRAM_MINIAPP_URL=https://your-miniapp.example.com

# -----------------------------------------------------------------------------
# TRIGGER.DEV
# Get your API key from: https://trigger.dev
# -----------------------------------------------------------------------------
TRIGGER_API_KEY=your_trigger_api_key
TRIGGER_API_URL=https://api.trigger.dev

# -----------------------------------------------------------------------------
# ADMIN
# -----------------------------------------------------------------------------
ADMIN_API_KEY=your_secure_admin_api_key

# -----------------------------------------------------------------------------
# STRIPE BILLING
# Get your API keys from: https://dashboard.stripe.com/apikeys
# -----------------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...

# Webhook signing secret (from Stripe Dashboard > Webhooks)
STRIPE_WEBHOOK_SECRET=whsec_...

# Customer Portal configuration ID
STRIPE_PORTAL_CONFIGURATION_ID=bpc_...

# Price IDs (create in Stripe Dashboard > Products)
STRIPE_PRICE_BASIC_MONTHLY=price_basic_monthly
STRIPE_PRICE_BASIC_YEARLY=price_basic_yearly
STRIPE_PRICE_PREMIUM_MONTHLY=price_premium_monthly
STRIPE_PRICE_PREMIUM_YEARLY=price_premium_yearly
STRIPE_PRICE_EXCLUSIVE_MONTHLY=price_exclusive_monthly
STRIPE_PRICE_EXCLUSIVE_YEARLY=price_exclusive_yearly
STRIPE_PRICE_ELITE_MONTHLY=price_elite_monthly
STRIPE_PRICE_ELITE_YEARLY=price_elite_yearly

# Sietch Score Badge (one-time purchase for lower tier communities)
BADGE_PRICE_USD=499  # $4.99 in cents

# Community Boost (monthly subscription per boost)
BOOST_PRICE_USD=299  # $2.99/month per boost

# -----------------------------------------------------------------------------
# CONVICTION CONFIGURATION
# -----------------------------------------------------------------------------
CONVICTION_CONFIG_PATH=./config/conviction-metrics.yaml

# Launch date for badge calculations (ISO format)
LAUNCH_DATE=2024-01-01

# Verification TTL in seconds (default: 7 days)
VERIFICATION_TTL=604800

# Grace period in seconds during RPC outages (default: 24 hours)
GRACE_PERIOD=86400

# -----------------------------------------------------------------------------
# OPTIONAL: NGROK (for local development)
# -----------------------------------------------------------------------------
# NGROK_AUTH_TOKEN=your_ngrok_auth_token
# NGROK_DOMAIN=your-domain.ngrok-free.app

# -----------------------------------------------------------------------------
# OPTIONAL: ANALYTICS
# -----------------------------------------------------------------------------
# POSTHOG_API_KEY=your_posthog_key
# SENTRY_DSN=your_sentry_dsn
